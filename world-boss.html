<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>World Boss</title>
  <link rel="stylesheet" href="world-boss.css" />
  <script src="player-registry.js"></script>
  <script src="world-boss-engine.js"></script>
  <script src="world-boss-templates.json" type="application/json"></script>
</head>

<body>
  <div id="worldboss-container">
    <h1>World Boss</h1>

    <div id="worldboss-content"></div>
  </div>

  <script type="module">
    import { requireSession } from "./session-guard.js";
    const session = requireSession();
    if (!session) return;
  
    const username = session.username;
  
    // Load UI module AFTER verifying session
    import("./world-boss-ui.js").then(mod => {
      if (mod && mod.initWorldBossUI) {
        mod.initWorldBossUI(username);
      }
    });
  </script>

</body>
</html>
